<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap parallax</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/css3-parallax.css" />
    <link rel="stylesheet" href="css/css3-bs-nav.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="bg"> </div>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Parallax</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a id="nav_home" href="#bootstrap">Bootstrap</a></li>
            <li><a id="nav_code" href="#nav">Navigation</a></li>
            <li><a id="nav_about" href="#debounce">Debounce Jquery</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container"> 
    
        <section class="translucent">
            <h1>Bootstrap</h1>
            <p>
                Code used to integrate navigation from Bootstrap.
            </p>
            <p>
                <pre>
                    <code class="bootstrap_nav">

                    </code>
                </pre> 
            </p>
            
        </section> 

        <section class="translucent">
            <h1>Navigation focus</h1>
            <p>
                Navigation is responding to scroll event. It brings focus to the corresponding navigation tab as soon as the page position is reached while scrolling.
            </p>

            <p>
                <pre>
                    <code class="about_focus">

                    </code>
                </pre> 
            </p>

        </section>

        <section class="translucent">
            <h1>Parallax and scroll handling</h1>
            <p>The parallax effect is encapsulated under debounce JQuery that gives more option for handling scroll strat and scroll stop events.
               You can see the debug div at left showing scroll status captured using debounce JQuery.</p>
            <p>We need...</p>
            <ul>
                <li>Little Jquery using Google api</li>
                <li>Debounce Jquery</li>
                <li>Fixed div to display scroll status</li>
            </ul>
            <p>
                <pre>
                    <code class="parallax">

                    </code>
                </pre> 
            </p>            
            <h1>Source</h1>

            <ul>
                <li>
                    Click <a href="../fileview/Default.aspx?~/experiments/000-exp9.html">here</a> to view HTML source.
                </li>
                <li>
                    Click <a href="../fileview/Default.aspx?~/experiments/css/css3-bs-nav.css">here</a> to view CSS source.
                </li>
                <li>
                    Click <a href="../fileview/Default.aspx?~/experiments/js/js-bs-nav.js">here</a> to view JS source.
                </li>
            </ul>   

            <h1>Reference</h1>
            <a href="http://w3schools.com" target="_blank">www.w3schools.com</a>
        </section>
    </div>
    <div class="debug">
        Stopped
    </div>
    <div class="js_code hidden">
        $(window).scroll($.debounce(10, true, function (e) {
            parallax();
        }));

        $(window).scroll($.debounce(0, function (e) {
            $('.debug').html("Stopped");
        }));

        function parallax() {
            var scrolled = $(window).scrollTop();
            $('.bg').css('top', -(scrolled * 0.2) + 'px');
        }
    </div>

    <div class="js_focus_nav hidden">
        
    </div>

    
    <div class="js_about_focus hidden">
        if (scrolled < 400) {
            $('.nav li').removeClass('active');
            $('#nav_home').parent('li').addClass('active');
        }
        if (scrolled >= 400 && scrolled < 1030) {
            $('.nav li').removeClass('active');
            $('#nav_code').parent('li').addClass('active');
        }
        if (scrolled >= 1030) {
            $('.nav li').removeClass('active');
            $('#nav_about').parent('li').addClass('active');
        }
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/debounce.min.js"></script>
    <script src="js/js-bs-nav.js"></script>
  </body>
</html>